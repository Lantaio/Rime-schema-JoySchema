# Rime schema
# encoding: utf-8

schema:
  schema_id: joy_pinyin
  name: ğŸ˜æ¬¢å–œæ‹¼éŸ³
  version: "2023.9.13"
  author:
    - è¿·æ€ (lantaio@yeah.net)
  description: |
    æ¬¢å–œæ‹¼éŸ³ï¼Œé»˜è®¤ä¸ºç°¡ä½“å­—è¾“å…¥æ¨¡å¼ã€‚
    ä½¿ç”¨å¼•å·å’Œå†’å·æ¥ç¿»é¡µã€‚
    ä½¿ç”¨é€—å·ã€å¥å·å’Œæ–œæ æ¥é€‰æ‹©ç¬¬2ã€ç¬¬3å’Œç¬¬4ä¸ªå€™é€‰é¡¹ã€‚
  dependencies:
    - stroke  # ç¬”ç”»åæŸ¥æ—¶ä¾èµ–ç¬”ç”»è¾“å…¥æ³•
    - joy_en  # ä¸­è‹±æ–‡æ··è¾“æ—¶ä¾èµ–joy_enè¾“å…¥æ³•

switches:
  - name: ascii_mode
    reset: 0  # é‡ç½®ä¸ºä¸­æ–‡è¾“å…¥æ¨¡å¼
    states: [ ä¸­æ–‡, è‹±æ–‡ ]
  - name: full_shape
    states: [ ğŸŒ™, ğŸŒ• ]  # åŠè§’ / å…¨è§’
  - name: simplification
    reset: 1  # é‡ç½®ä¸ºç®€ä½“å­—è¾“å…¥æ¨¡å¼
    states: [ ç¹é«”, ç®€ä½“ ]
  - name: emoji
    states: [ ğŸ–¤, â¤ ]  # ç¦ç”¨ / å¯ç”¨
  - name: ascii_punct
    reset: 0  # é‡ç½®ä¸ºä¸­æ–‡æ ‡ç‚¹æ¨¡å¼
    states: [ ï¿¥, $ ]

engine:  # è¼¸å…¥å¼•æ“è¨­å®šï¼Œå³æ›æ¥çµ„ä»¶çš„ã€Œè™•æ–¹ã€
  processors:  # ä¸€ã€é€™æ‰¹çµ„ä»¶è™•ç†å„é¡æŒ‰éµæ¶ˆæ¯
    - ascii_composer  # è™•ç†è‹±æ–‡æ¨¡å¼åŠä¸­è‹±æ–‡åˆ‡æ›
    - recognizer  # èˆ‡ matcher æ­é…ï¼Œè™•ç†ç¬¦åˆç‰¹å®šè¦å‰‡çš„è¼¸å…¥ç¢¼ï¼Œå¦‚ç¶²å€ã€åæŸ¥ç­‰
    - key_binder  # åœ¨ç‰¹å®šæ¢ä»¶ä¸‹å°‡æŒ‰éµç¶å®šåˆ°å…¶ä»–æŒ‰éµï¼Œå¦‚é‡å®šç¾©é€—è™Ÿã€å¥è™Ÿçˆ²å€™é¸ç¿»é éµ
    - lua_processor@*select_character_p  # ç”¨'['å’Œ']'æ¥ä»¥è¯å®šå­—
    - speller  # æ‹¼å¯«è™•ç†å™¨ï¼Œæ¥å—å­—ç¬¦æŒ‰éµï¼Œç·¨è¼¯è¼¸å…¥ç¢¼
    - punctuator  # å¥è®€è™•ç†å™¨ï¼Œå°‡å–®å€‹å­—ç¬¦æŒ‰éµç›´æ¥æ˜ å°„çˆ²æ–‡å­—ç¬¦è™Ÿ
    - selector  # é¸å­—è™•ç†å™¨ï¼Œè™•ç†æ•¸å­—é¸å­—éµã€ä¸Šã€ä¸‹å€™é¸å®šä½ã€æ›é éµ
    - navigator  # è™•ç†è¼¸å…¥æ¬„å…§çš„å…‰æ¨™ç§»å‹•éµ
    - express_editor  # ç·¨è¼¯å™¨ï¼Œè™•ç†ç©ºæ ¼ã€å›è»Šä¸Šå±ã€å›é€€éµç­‰
  segmentors:  # äºŒã€é€™æ‰¹çµ„ä»¶è­˜åˆ¥ä¸åŒå…§å®¹é¡å‹ï¼Œå°‡è¼¸å…¥ç¢¼åˆ†æ®µ
    - ascii_segmentor  # æ¨™è­˜è¥¿æ–‡æ®µè½
    - matcher  # æ¨™è­˜ç¬¦åˆç‰¹å®šè¦å‰‡çš„æ®µè½ï¼Œå¦‚ç¶²å€ã€åæŸ¥ç­‰
    - abc_segmentor  # æ¨™è­˜å¸¸è¦çš„æ–‡å­—æ®µè½
    - punct_segmentor  # æ¨™è­˜å¥è®€æ®µè½
    - fallback_segmentor  # æ¨™è­˜å…¶ä»–æœªæ¨™è­˜æ®µè½
  translators:  # ä¸‰ã€é€™æ‰¹çµ„ä»¶ç¿»è­¯ç‰¹å®šé¡å‹çš„ç·¨ç¢¼æ®µçˆ²ä¸€çµ„å€™é¸æ–‡å­—
    - punct_translator  # è½‰æ›æ¨™é»ç¬¦è™Ÿ
    - table_translator@custom_phrase  # è‡ªå®šä¹‰è¯å…¸ï¼Œé…åˆè¯å…¸ä¼˜å…ˆçº§å®ç°å¸¸ç”¨å­—å›ºé¡¶åŠŸèƒ½
    - lua_translator@*date_t  # æ—¶é—´ã€æ—¥æœŸã€æ˜ŸæœŸï¼Œè°ƒç”¨luaç›®å½•å¯¹åº”ç¨‹åº
    - lua_translator@*cn_numerals_t  # å¤§å†™æ•°å­—ã€é‡‘é¢ç¿»è¯‘å™¨ï¼Œè°ƒç”¨luaç›®å½•å¯¹åº”ç¨‹åº
    - table_translator@english  # ä¸­è‹±æ–‡æ··è¾“ç¿»è¯‘å™¨ï¼Œè½½å…¥å–åä¸ºenglishçš„è®¾ç½®
    - reverse_lookup_translator  # åæŸ¥ç¿»è­¯å™¨ï¼Œç”¨å¦ä¸€ç¨®ç·¨ç¢¼æ–¹æ¡ˆæŸ¥ç¢¼
    - script_translator  # è…³æœ¬ç¿»è­¯å™¨ï¼Œç”¨æ–¼æ‹¼éŸ³ç­‰åŸºæ–¼éŸ³ç¯€è¡¨çš„è¼¸å…¥æ–¹æ¡ˆ
  filters:  # å››ã€é€™æ‰¹çµ„ä»¶éæ¿¾ç¿»è­¯çš„çµæœ
    - simplifier@emoji  # Emojiè¿‡æ»¤å™¨
    - simplifier  # ç¹ç°¡è½‰æ›ï¼ˆå¿…éœ€ï¼‰
    - lua_filter@*cap_en_f  # å¤§å†™è‹±æ–‡è¿‡æ»¤å™¨
    - uniquifier  # éæ¿¾é‡è¤‡çš„å€™é¸å­—ï¼Œæœ‰å¯èƒ½ä¾†è‡ªç¹ç°¡è½‰æ›ï¼ˆå¿…éœ€ï¼‰

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA
  delimiter: " '"  # ç¬¬ä¸€ä½"ç©ºæ ¼"æ˜¯æ‹¼éŸ³ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼›ç¬¬äºŒä½"'"è¡¨ç¤ºå¯ä»¥æ‰‹åŠ¨è¾“å…¥å•å¼•å·æ¥åˆ†å‰²æ‹¼éŸ³ã€‚
  algebra:  # æ›¿ä»£è§„åˆ™
    __patch:
      - joy.pinyin.algebra:/abbreviation  # ç®€æ‹¼è§„åˆ™
      - joy.pinyin.algebra:/spelling_correction  # å®¹é”™æ‹¼å†™è§„åˆ™

translator:
  dictionary: joy_pinyin  # æŒ‡ç¤ºæ­¤è¾“å…¥æ–¹æ¡ˆä½¿ç”¨è‡ªå®šåˆ¶è¯åº“ã€‚æ³¨é‡Šæ­¤è¡Œåˆ™ä½¿ç”¨é»˜è®¤è¯åº“ã€‚
  # prism: joy_pinyin
  packs:  # æ‰©å……è¯åº“åˆ—è¡¨ï¼Œæ³¨é‡Šæ‰æŸä¸ªè¯åº“å¹¶é‡æ–°éƒ¨ç½²å³å¯å±è”½é‚£ä¸ªè¯åº“ã€‚
    - joy.pinyin_hushengupiao  # ä¸­å›½æ²ªæ·±è‚¡ç¥¨åç§°è¯åº“
    - joy.pinyin_yueyu  # ç²¤è¯­è¯åº“
    - joy.pinyin_gushici  # å¤è¯—è¯è¯åº“
    - joy.pinyin_guangfoditie  # å¹¿ä½›åœ°é“ç«™åè¯åº“
    # - joy.pinyin_foshan  # ä½›å±±åŸå¸‚ä¿¡æ¯è¯åº“
    # - joy.pinyin_guangzhou  # å¹¿å·åŸå¸‚ä¿¡æ¯è¯åº“
  preedit_format:  # åœ¨å€™é€‰æ¡†æ˜¾ç¤ºæ­£ç¡®çš„æ‹¼éŸ³
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/
    - xform/([jqxy])v/$1u/

custom_phrase:
  dictionary: ""
  user_dict: custom_phrase
  db_class: stabledb  # ç”¨æˆ·è¯å…¸æ ¼å¼ï¼Œstabledbï¼ˆæ–‡æœ¬ï¼‰æˆ– userdbï¼ˆäºŒè¿›åˆ¶ï¼‰
  enable_completion: false  # æ˜¯å¦å¼€å¯é€é”®æç¤º
  enable_sentence: false  # æ˜¯å¦æ•´å¥è¿æ‰“ï¼Œæ˜¯å¦è‡ªåŠ¨é€ å¥ï¼Œå¦åˆ™ä¸ºå››ç è‡ªåŠ¨ä¸Šå±
  initial_quality: 2  # æ­¤è¯åº“çš„ä¼˜å…ˆçº§

date_translator:  # Lua é…ç½®: æ—¥æœŸã€æ—¶é—´ã€æ˜ŸæœŸã€ISO 8601ã€æ—¶é—´æˆ³çš„è§¦å‘å…³é”®å­—
  date: rq  # æ—¥æœŸï¼š 2022-11-29
  time: sj  # æ—¶é—´ï¼š 18:13
  week: xq  # æ˜ŸæœŸï¼š æ˜ŸæœŸäºŒ
  datetime: dt  # ISO 8601ï¼š 2022-11-29T18:13:11+08:00
  timestamp: ts  # æ—¶é—´æˆ³ï¼š 1669716794

emoji:
  opencc_config: emoji.json
  option_name: emoji
  tips: none
  inherit_comment: false

english:  # ä¸­è‹±æ–‡æ··è¾“çš„è‹±æ–‡è¯å…¸è®¾ç½®é¡¹
  dictionary: joy_en
  user_dict: joy_en
  db_class: userdb  # ç”¨æˆ·è¯å…¸æ ¼å¼ï¼Œstabledbï¼ˆæ–‡æœ¬ï¼‰æˆ– userdbï¼ˆäºŒè¿›åˆ¶ï¼‰
  spelling_hints: 9
  enable_completion: true  # æ˜¯å¦å¼€å¯é€é”®æç¤ºï¼ˆå¼€å¯åè‹±æ–‡å€™é€‰çš„ä½ç½®æ›´åˆç†ï¼‰
  enable_encoder: false  #æ˜¯å¦è‡ªåŠ¨é€ è¯
  enable_sentence: false  # æ˜¯å¦æ•´å¥è¿æ‰“ï¼Œæ˜¯å¦è‡ªåŠ¨é€ å¥ï¼Œå¦åˆ™ä¸ºå››ç è‡ªåŠ¨ä¸Šå±
  enable_user_dict: true  # æ˜¯å¦å¼€å¯ç”¨æˆ·è¯å…¸ï¼Œä»¥è®°å½•åŠ¨æ€å­—é¢‘å’Œç”¨æˆ·è¯è¯é¢‘
  initial_quality: -1
  comment_format:  # è‡ªå®šä¹‰æç¤ºç 
    - xform/.*//  # æ¸…ç©ºæç¤ºç 

reverse_lookup:  # ç¬”ç”»åæŸ¥æ‹¼éŸ³
  dictionary: stroke
  enable_completion: true
  prefix: "~"
  suffix: "'"
  tips: ã€”ç¬”ç”»ã€•
  preedit_format:
    - xlit/hspnz/ä¸€ä¸¨ä¸¿ä¸¶ä¹™/
  comment_format:  # æç¤ºç æ˜¾ç¤ºæ­£ç¡®çš„æ‹¼éŸ³
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/  # æ­¤é¡¹æ˜¯æˆ‘æ·»åŠ çš„

punctuator:
  import_preset: joy.symbols  # å¯¼å…¥æ‰©å±•ç¬¦å·è¡¨

key_binder:
  import_preset: default
  # Lua é…ç½®: ä»¥è¯å®šå­—ï¼ˆä¸Šå±å½“å‰å€™é€‰é¡¹çš„ç¬¬ä¸€ä¸ªæˆ–æœ€åä¸€ä¸ªå­—ï¼‰ï¼Œå’Œä¸­æ‹¬å·ç¿»é¡µæœ‰å†²çª
  select_first_character: "bracketleft"  # ä»¥è¯å®šå­—ï¼Œç”¨'['é”®é€‰æ‹©ç¬¬1ä¸ªå­—
  select_last_character: "bracketright"  # ä»¥è¯å®šå­—ï¼Œç”¨']'é”®é€‰æ‹©æœ€å1ä¸ªå­—

recognizer:
  import_preset: default
  patterns:
    number: "^N[0-9]+[.]?[0-9]*"  # 'N'å¼€å¤´è§¦å‘å¤§å†™æ•°å­—ã€é‡‘é¢çš„æ­£åˆ™è¡¨è¾¾å¼
    reverse_lookup: "~[a-z]*'?$"  # '~'å¼€å¤´è§¦å‘ç¬”ç”»åæŸ¥çš„æ­£åˆ™è¡¨è¾¾å¼
