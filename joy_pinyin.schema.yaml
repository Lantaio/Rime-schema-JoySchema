# Rime schema
# encoding: utf-8

schema:
  schema_id: joy_pinyin
  name: æ¬¢å–œæ‹¼éŸ³
  version: "0.22"
  author:
    - è¿·æ€ (lantaio@yeah.net)
  description: |
    æ¬¢å–œæ‹¼éŸ³ï¼Œé»˜è®¤ä¸ºç°¡ä½“å­—è¾“å…¥æ–¹æ¡ˆã€‚
  dependencies:
    - stroke  # ç¬”ç”»åæŸ¥æ—¶ä¾èµ–äº”ç¬”è¾“å…¥æ³•
    - joy_en  # ä¸­è‹±æ–‡æ··è¾“æ—¶ä¾èµ–joy_enè¾“å…¥æ³•

switches:
  - name: ascii_mode
    reset: 0
    states: [ ä¸­æ–‡, è‹±æ–‡ ]
  - name: full_shape
    states: [ åŠè§’, å…¨è§’ ]
  - name: simplification
    reset: 1  # é‡ç½®ä¸ºç®€ä½“å­—è¾“å…¥æ¨¡å¼
    states: [ ç¹é«”, ç®€ä½“ ]
  - name: emoji
    states: [ "ğŸˆšï¸", "ğŸˆ¶ï¸" ]
  - name: ascii_punct
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]

engine:  # è¼¸å…¥å¼•æ“è¨­å®šï¼Œå³æ›æ¥çµ„ä»¶çš„ã€Œè™•æ–¹ã€
  processors:  # ä¸€ã€é€™æ‰¹çµ„ä»¶è™•ç†å„é¡æŒ‰éµæ¶ˆæ¯
    - ascii_composer  # è™•ç†è‹±æ–‡æ¨¡å¼åŠä¸­è‹±æ–‡åˆ‡æ›
    - recognizer  # èˆ‡ matcher æ­é…ï¼Œè™•ç†ç¬¦åˆç‰¹å®šè¦å‰‡çš„è¼¸å…¥ç¢¼ï¼Œå¦‚ç¶²å€ã€åæŸ¥ç­‰
    - key_binder  # åœ¨ç‰¹å®šæ¢ä»¶ä¸‹å°‡æŒ‰éµç¶å®šåˆ°å…¶ä»–æŒ‰éµï¼Œå¦‚é‡å®šç¾©é€—è™Ÿã€å¥è™Ÿçˆ²å€™é¸ç¿»é éµ
    - speller  # æ‹¼å¯«è™•ç†å™¨ï¼Œæ¥å—å­—ç¬¦æŒ‰éµï¼Œç·¨è¼¯è¼¸å…¥ç¢¼
    - punctuator  # å¥è®€è™•ç†å™¨ï¼Œå°‡å–®å€‹å­—ç¬¦æŒ‰éµç›´æ¥æ˜ å°„çˆ²æ–‡å­—ç¬¦è™Ÿ
    - selector  # é¸å­—è™•ç†å™¨ï¼Œè™•ç†æ•¸å­—é¸å­—éµã€ä¸Šã€ä¸‹å€™é¸å®šä½ã€æ›é éµ
    - navigator  # è™•ç†è¼¸å…¥æ¬„å…§çš„å…‰æ¨™ç§»å‹•éµ
    - express_editor  # ç·¨è¼¯å™¨ï¼Œè™•ç†ç©ºæ ¼ã€å›è»Šä¸Šå±ã€å›é€€éµç­‰
  segmentors:  # äºŒã€é€™æ‰¹çµ„ä»¶è­˜åˆ¥ä¸åŒå…§å®¹é¡å‹ï¼Œå°‡è¼¸å…¥ç¢¼åˆ†æ®µ
    - ascii_segmentor  # æ¨™è­˜è¥¿æ–‡æ®µè½
    - matcher  # æ¨™è­˜ç¬¦åˆç‰¹å®šè¦å‰‡çš„æ®µè½ï¼Œå¦‚ç¶²å€ã€åæŸ¥ç­‰
    - abc_segmentor  # æ¨™è­˜å¸¸è¦çš„æ–‡å­—æ®µè½
    - punct_segmentor  # æ¨™è­˜å¥è®€æ®µè½
    - fallback_segmentor  # æ¨™è­˜å…¶ä»–æœªæ¨™è­˜æ®µè½
  translators:  # ä¸‰ã€é€™æ‰¹çµ„ä»¶ç¿»è­¯ç‰¹å®šé¡å‹çš„ç·¨ç¢¼æ®µçˆ²ä¸€çµ„å€™é¸æ–‡å­—
    - punct_translator  # è½‰æ›æ¨™é»ç¬¦è™Ÿ
    - table_translator@custom_phrase
    - table_translator@english  # ä¸­è‹±æ–‡æ··è¾“æ—¶è½½å…¥å–åä¸ºenglishçš„è‹±æ–‡ç è¡¨
    - reverse_lookup_translator  # åæŸ¥ç¿»è­¯å™¨ï¼Œç”¨å¦ä¸€ç¨®ç·¨ç¢¼æ–¹æ¡ˆæŸ¥ç¢¼
    - script_translator  # è…³æœ¬ç¿»è­¯å™¨ï¼Œç”¨æ–¼æ‹¼éŸ³ç­‰åŸºæ–¼éŸ³ç¯€è¡¨çš„è¼¸å…¥æ–¹æ¡ˆ
  filters:  # å››ã€é€™æ‰¹çµ„ä»¶éæ¿¾ç¿»è­¯çš„çµæœ
    - simplifier@emoji  # Emoji
    - simplifier  # ç¹ç°¡è½‰æ›
    - uniquifier  # éæ¿¾é‡è¤‡çš„å€™é¸å­—ï¼Œæœ‰å¯èƒ½ä¾†è‡ªç¹ç°¡è½‰æ›

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA
  delimiter: " '"
  algebra:  # æ¨¡ç³ŠéŸ³
    - erase/^xx$/  # ç¬¬ä¸€è¡Œä¿ç•™ï¼ˆå¯ç”¨ç®€æ‹¼åŠŸèƒ½æ—¶åˆ é™¤é‡å¤é”®å…¥æ— æ•ˆï¼‰
    # æ³¨æ„ï¼šæ¨¡ç³ŠéŸ³å®šç¾©å…ˆæ–¼ç°¡æ‹¼å®šç¾©ï¼Œæ–¹å¯ä»¤ç°¡æ‹¼æ”¯æŒä»¥ä¸Šæ¨¡ç³ŠéŸ³
    # - abbrev/^([a-z]).+$/$1/  # ç°¡æ‹¼ï¼ˆé¦–å­—æ¯ï¼‰
    - abbrev/^([a-z])[^h]+$/$1/  # ç°¡æ‹¼ï¼ˆé¦–å­—æ¯ï¼Œåç»­å­—æ¯ä¸æ˜¯hï¼‰
    # - abbrev/^([abd-rt-y]).+$/$1/  # ç°¡æ‹¼ï¼ˆé™¤zã€cã€sä¹‹å¤–çš„é¦–å­—æ¯ï¼‰
    # - abbrev/^([zcs])[^h]+$/$1/  # ç®€æ‹¼ï¼ˆzï¼Œcï¼Œsï¼‰
    - abbrev/^([zcs]h).+$/$1/  # ç°¡æ‹¼ï¼ˆzh, ch, shï¼‰
    # ä»¥ä¸‹æ˜¯ä¸€çµ„å®¹éŒ¯æ‹¼å¯«ï¼Œã€Šæ¼¢èªæ‹¼éŸ³ã€‹æ–¹æ¡ˆä»¥å‰è€…çˆ²æ­£
    - derive/^([nl])ve$/$1ue/  # nve = nue, lve = lue
    - derive/^([jqxy])u/$1v/  # ju = jv, qu = qv, xu = xv, yu = yv
    # - derive/un$/uen/  # gun = guen
    # - derive/ui$/uei/  # gui = guei
    # - derive/iu$/iou/  # jiu = jiou
    # è‡ªå‹•ç³¾æ­£ä¸€äº›å¸¸è¦‹çš„æŒ‰éµéŒ¯èª¤
    # - derive/([aeiou])ng$/$1gn/  # dagn => dang
    # - derive/([dtngkhrzcs])o(u|ng)$/$1o/  # zho => zhong|zhou
    # - derive/ong$/on/  # zhonguo => zhong guo
    # - derive/ao$/oa/  # hoa => hao
    # - derive/([iu])a(o|ng?)$/a$1$2/  # tain => tian

translator:
  dictionary: joy_pinyin  # æŒ‡ç¤ºæ­¤è¾“å…¥æ–¹æ¡ˆä½¿ç”¨è‡ªå®šåˆ¶è¯åº“ã€‚æ³¨é‡Šæ­¤è¡Œåˆ™ä½¿ç”¨é»˜è®¤è¯åº“ã€‚
  prism: joy_pinyin
  preedit_format:
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/
    - xform/([jqxy])v/$1u/

custom_phrase:
  dictionary: ""
  user_dict: custom_phrase
  db_class: stabledb
  enable_completion: false  # æ˜¯å¦å¼€å¯è¡¥å…¨æç¤º
  enable_sentence: false  # æ˜¯å¦å¼€å¯é€ å¥åŠŸèƒ½
  initial_quality: 99

emoji:
  opencc_config: emoji.json
  option_name: emoji
  tips: none
  inherit_comment: false

english:  # ä¸­è‹±æ–‡æ··è¾“æ—¶è‹±æ–‡ç è¡¨è®¾ç½®é¡¹
  dictionary: joy_en
  spelling_hints: 9
  enable_completion: true  # æ˜¯å¦å¯ç”¨è‹±æ–‡è¾“å…¥è”æƒ³è¡¥å…¨ï¼Œå¿…é¡»å¼€å¯
  enable_sentence: false  # æ˜¯å¦å¯ç”¨é€ å¥åŠŸèƒ½
  enable_user_dict: false  # æ˜¯å¦å¯ç”¨ç”¨æˆ·è¯åº“
  initial_quality: -1
  comment_format:  # è‡ªå®šä¹‰æç¤ºç 
    - xform/.*//  # æ¸…ç©ºæç¤ºç 

reverse_lookup:
  dictionary: stroke
  enable_completion: true
  prefix: "`"
  suffix: "'"
  tips: ã€”ç¬”ç”»ã€•
  preedit_format:
    - xlit/hspnz/ä¸€ä¸¨ä¸¿ä¸¶ä¹™/
  comment_format:
    - xform/([nl])v/$1Ã¼/

# simplifier:
#   option_name: zh_simp

punctuator:
  import_preset: symbols  # å¯¼å…¥æ‰©å±•ç¬¦å·è¡¨

key_binder:
  import_preset: default
  # bindings:
  #   __append: key_bindings:/select_word_with_shift_key

recognizer:
  # import_preset: default
  patterns:
    punct: '^/([0-9]0?|[A-Za-z]+)$'  # è§¦å‘è¾“å…¥æ‰©å±•ç¬¦å·çš„æ­£åˆ™è¡¨è¾¾å¼
    reverse_lookup: "`[a-z]*'?$"  # è§¦å‘ç¬”ç”»åæŸ¥çš„æ­£åˆ™è¡¨è¾¾å¼
    url: "^(www[.]|https?:|ftp[.:]|mailto:|file:).*$|^[a-z]+[.].+$"
