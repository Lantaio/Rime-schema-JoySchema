# Rime schema
# vim: set sw=2 sts=2 et:
# encoding: utf-8

schema:
  schema_id: joy_en
  name: 'ğŸ˜Joy English'
  version: '2023.12.3'
  author:
    - Lantaio (lantaio@yeah.net)
  description: |
    An English input schema use a light weight dictionary.
    Use period and greater for paging.
    Use comma, semicolon and slash to select the 2, 3 and 4 candidate.
    website: https://github.com/Lantaio/Rime-schema-JoySchema
    ä¸€ä¸ªä½¿ç”¨è½»é‡çº§è¯åº“çš„è‹±æ–‡è¾“å…¥æ–¹æ¡ˆã€‚

switches:
  - name: ascii_mode
    reset: 0
    states: [ ğŸ†—, ğŸ† ]  # English word / keyboard direct input

engine:
  processors:
    - ascii_composer
    - recognizer
    # - lua_processor@*joy_selector_p  # æœ‰å€™é€‰æ¡†æ—¶æŒ‡å®šé€‰å­—ä¸Šå±æŒ‰é”®ã€‚
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - lua_translator@*joy_date_t  # æ—¶é—´ã€æ—¥æœŸã€æ˜ŸæœŸï¼Œè°ƒç”¨luaç›®å½•å¯¹åº”ç¨‹åº
    - table_translator
  filters:
    - lua_filter@*joy_cap_en_f  # å¤§å†™è‹±æ–‡è¿‡æ»¤å™¨
    - uniquifier

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA
  delimiter: " '"
  algebra:
    __include: capital_algebra

capital_algebra:  # æ´¾ç”Ÿå‡ºé¦–å­—æ¯å¤§å†™æˆ–å…¨éƒ¨å¤§å†™è‹±æ–‡çš„è§„åˆ™
  # æ´¾ç”Ÿæ— ä»»ä½•éå­—æ¯æ•°å­—å­—ç¬¦çš„æ‹¼å†™
  - derive/[^a-zA-Z0-9]//
  # ç¦ç”¨éè‹±æ–‡ã€æ•°å­—å¼€å¤´çš„ç¼–ç 
  - erase/^[\W|_].+$/
  # å…¨å°å†™
  - derive/^.+$/\L$0/
  # å…¨å¤§å†™
  - derive/^.+$/\U$0/
  # é¦–å­—æ¯å¤§å†™
  - derive/^./\U$0/
  # å‰ 2~10 ä¸ªå­—æ¯å¤§å†™
  - derive/^([a-z]{2})/\U$1/
  - derive/^([a-z]{3})/\U$1/
  - derive/^([a-z]{4})/\U$1/
  - derive/^([a-z]{5})/\U$1/
  # - derive/^([a-z]{6})/\U$1/
  # - derive/^([a-z]{7})/\U$1/
  # - derive/^([a-z]{8})/\U$1/
  # - derive/^([a-z]{9})/\U$1/
  # - derive/^([a-z]{10})/\U$1/

translator:
  dictionary: joy_en
  spelling_hints: 9
  # comment_format:  # è‡ªå®šä¹‰æç¤ºç 
    # - xform/.*//  # æ¸…ç©ºæç¤ºç 

date_time:  # Lua é…ç½®: æ—¥æœŸã€æ—¶é—´ã€æ˜ŸæœŸã€ISO 8601ã€æ—¶é—´æˆ³çš„è§¦å‘å…³é”®å­—
  date: rq  # æ—¥æœŸï¼š 2022-11-29
  time: sj  # æ—¶é—´ï¼š 18:13
  week: xq  # æ˜ŸæœŸï¼š æ˜ŸæœŸäºŒ
  datetime: dt  # ISO 8601ï¼š 2022-11-29T18:13:11+08:00
  timestamp: ts  # æ—¶é—´æˆ³ï¼š 1669716794

key_binder:
  import_preset: default

punctuator:
  # full_shape:
  #   __include: 'joy.punctuation:/full_shape'
  half_shape:
    __include: 'joy.punctuation:/ascii_style'
  symbols:
    __include: 'joy.symbols:/punctuator/symbols'  # å¯¼å…¥æ‰©å±•ç¬¦å·è¡¨

recognizer:
  import_preset: default
